<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cortical post-processing &mdash; z-brains  documentation</title><link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/mica-pipe_colors.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Subcortical feature post-processing" href="../07.subcortex/index.html" />
    <link rel="prev" title="Pre-processing with hippunfold" href="../05.hippunfold/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #e8e8e8" >
            <a href="../../index.html"><img src="../../_static/zbrains_alpha.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../01.install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02.tutorialinstructions/index.html">Usage notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03.whatsnew/index.html">What’s new?</a></li>
</ul>
<p class="caption"><span class="caption-text">Pre-processing requirements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../04.micapipe/index.html">Pre-processing with <code class="docutils literal notranslate"><span class="pre">micapipe</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../05.hippunfold/index.html">Pre-processing with <code class="docutils literal notranslate"><span class="pre">hippunfold</span></code></a></li>
</ul>
<p class="caption"><span class="caption-text">Feature post-processing</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Cortical feature post-processing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#define-your-directories">Define your directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-cortical-post-processing-basic">Run cortical post-processing: basic</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../07.subcortex/index.html">Subcortical feature post-processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08.hippocampus/index.html">Hippocampal feature post-processing</a></li>
</ul>
<p class="caption"><span class="caption-text">Feature normalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../09.zscoring/index.html">Z-scoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10.normative/index.html">Normative modelling</a></li>
</ul>
<p class="caption"><span class="caption-text">Main outputs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../11.features/index.html">Exploring <code class="docutils literal notranslate"><span class="pre">z-brains</span></code> outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12.reports/index.html">Summary reports</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #e8e8e8" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">z-brains</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Cortical post-processing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/pages/06.cortex/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="cortical-feature-post-processing">
<span id="postcortex"></span><h1>Cortical feature post-processing<a class="headerlink" href="#cortical-feature-post-processing" title="Permalink to this headline">¶</a></h1>
<p>This section describes how to generate raw and normalized features sample along the neocortical sheet.</p>
<div class="section" id="define-your-directories">
<h2>Define your directories<a class="headerlink" href="#define-your-directories" title="Permalink to this headline">¶</a></h2>
<p>z-brains requires input and output directories:</p>
<p><code class="docutils literal notranslate"><span class="pre">root_path</span></code> points to the BIDS-format dataset that stores imaging data
<code class="docutils literal notranslate"><span class="pre">rawdir</span></code> contains the raw imaging data
<code class="docutils literal notranslate"><span class="pre">micapipedir</span></code> contains the output of micapipe previously run on the BIDS dataset
<code class="docutils literal notranslate"><span class="pre">hippdir</span></code> contains the output of hippunfold previously run on the BIDS dataset
<code class="docutils literal notranslate"><span class="pre">outdir</span></code> points to the directory that will hold z-brains outputs</p>
<p>In practice, these should be declared as variables:</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Declaring path variables</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><span class="c1"># path for dataset in BIDS structure</span>
<span class="nv">root_path</span><span class="o">=</span>/path/to/BIDS_dataset
<span class="nv">rawdir</span><span class="o">=</span><span class="si">${</span><span class="nv">root_path</span><span class="si">}</span>/rawdata
<span class="nv">micapipedir</span><span class="o">=</span><span class="si">${</span><span class="nv">root_path</span><span class="si">}</span>/derivatives/micapipe_folder
<span class="nv">hippdir</span><span class="o">=</span><span class="si">${</span><span class="nv">root_path</span><span class="si">}</span>/derivatives/hippunfold_folder
<span class="nv">outdir</span><span class="o">=</span><span class="si">${</span><span class="nv">root_path</span><span class="si">}</span>/derivatives/z-brains_folder
</pre></div></td></tr></table></div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="run-cortical-post-processing-basic">
<h2>Run cortical post-processing: basic<a class="headerlink" href="#run-cortical-post-processing-basic" title="Permalink to this headline">¶</a></h2>
<p>After defining our directories, we can move on to processing our first patient.
Let’s declare which patient we want to process (with their ID in the BIDS directory, omitting the ‘sub-‘ and the session that should be processed if necessary).</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Declaring subject variables</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><span class="nv">id</span><span class="o">=</span>PX001
<span class="nv">ses</span><span class="o">=</span><span class="m">01</span>
</pre></div></td></tr></table></div>
</div>
</div>
</div></blockquote>
<p>To process the subject, we can specify the command as follows:</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Basic z-brains run: cortical processing</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span>z-brains<span class="w"> </span>-sub<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$id</span><span class="s2">&quot;</span><span class="w"> </span>-ses<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$ses</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-rawdir<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">rawdir</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-micapipedir<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">micapipedir</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-hippdir<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">hippdir</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-outdir<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">outdir</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-run<span class="w"> </span>proc<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-struct<span class="w"> </span>cortex<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-verbose<span class="w"> </span><span class="m">2</span>
</pre></div></td></tr></table></div>
</div>
</div>
</div></blockquote>
<p>This will generate surface-based cortical features at the default smoothing (5mm) and mesh resolution (both 5k and 32k) for all available modalities.</p>
<div class="admonition-customize-your-z-brains-run admonition">
<p class="admonition-title">Customize your z-brains run!</p>
<p>A list of options and flags can be specified for a more personalized run of z-brains. Check out the help menu <code class="docutils literal notranslate"><span class="pre">z-brains</span> <span class="pre">-help</span></code></p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../07.subcortex/index.html" class="btn btn-neutral float-right" title="Subcortical feature post-processing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../05.hippunfold/index.html" class="btn btn-neutral float-left" title="Pre-processing with hippunfold" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2022, zbrains

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a 
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a> and modified by SL, JR, and RRC 🪄 

</footer>

        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
         .wy-nav-content { max-width: none; }
  </style>


  <footer>
    
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a 
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. Modified by SL 🤠 

  </footer>



</body>
</html>